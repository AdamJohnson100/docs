<!DOCTYPE html>
<head>
    <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="description" content="Learn how to send AWS data to Wavefront.">
<meta name="keywords" content="integrations,  ">
<title>AWS Metrics Integration | Wavefront</title>
<link rel="stylesheet" href="css/syntax.css">


<link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css">
<!--<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">-->
<link rel="stylesheet" href="css/modern-business.css">
<link rel="stylesheet" href="css/lavish-bootstrap.css">
<link rel="stylesheet" href="css/customstyles.css">
<link rel="stylesheet" href="css/theme-blue.css">

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-91867056-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>



<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-cookie/1.4.1/jquery.cookie.min.js"></script>
<script src="js/jquery.navgoco.min.js"></script>


<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/2.0.0/anchor.min.js"></script>
<script src="js/toc.js"></script>
<script src="js/customscripts.js"></script>

<link rel="shortcut icon" href="images/wavefront_favicon.ico">

<!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
<!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
<script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
<![endif]-->

<link rel="alternate" type="application/rss+xml" title="" href="http://localhost:4000feed.xml">

    <script>
        $(document).ready(function() {
            // Initialize navgoco with default options
            $("#mysidebar").navgoco({
                caretHtml: '',
                accordion: true,
                openClass: 'active', // open
                save: false, // leave false or nav highlighting doesn't work right
                cookie: {
                    name: 'navgoco',
                    expires: false,
                    path: '/'
                },
                slide: {
                    duration: 400,
                    easing: 'swing'
                }
            });

            $("#collapseAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', false);
            });

            $("#expandAll").click(function(e) {
                e.preventDefault();
                $("#mysidebar").navgoco('toggle', true);
            });

        });

    </script>
    <script>
        $(function () {
            $('[data-toggle="tooltip"]').tooltip()
        })
    </script>
    

</head>
<body>
<!-- Navigation -->
<nav class="navbar navbar-inverse navbar-fixed-top">
    <div class="container topnavlinks">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="fa fa-lg navbar-brand" href="index.html">
                <img src="images/wavefront_logo_white.png"></a>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
            <ul class="nav navbar-nav navbar-right">
                <!-- entries without drop-downs appear here -->
                
                
                
                <li><a href="index.html">Documentation</a></li>
                
                
                
                <li><a href="news">News</a></li>
                
                
                
                <!-- entries with drop-downs appear here -->
                <!-- conditional logic to control which topnav appears for the audience defined in the configuration file.-->
                
                
			<li>



  <a class="email" title="Submit feedback" href="#" onclick="javascript:window.location='mailto:stephanie@wavefront.com?subject=Wavefront Documentation feedback&body=I have some feedback about the AWS Metrics Integration page: ' + window.location.href;"><i class="fa fa-envelope-o"></i> Feedback</a>

</li>

		
                <!--comment out this block if you want to hide search-->
                <li>
                    <!--start search-->
                    <div id="search-demo-container">
                        <input type="text" id="search-input" placeholder="search...">
                        <ul id="results-container"></ul>
                    </div>
                    <script src="js/jekyll-search.js" type="text/javascript"></script>
                    <script type="text/javascript">
                            SimpleJekyllSearch.init({
                                searchInput: document.getElementById('search-input'),
                                resultsContainer: document.getElementById('results-container'),
                                dataSource: 'search.json',
                                searchResultTemplate: '<li><a href="{url}" title="AWS Metrics Integration">{title}</a></li>',
                                noResultsText: 'No results found.', limit: 10, fuzzy: true, })
                    </script>
                    <!--end search-->
                </li>
            </ul>
        </div>
        </div>
        <!-- /.container -->
</nav>

<!-- Page Content -->
<div class="container">
    <div class="col-lg-12">&nbsp;</div>
    <!-- Content Row -->
    <div class="row">
        <!-- Sidebar Column -->
        <div class="col-md-3">

          


<ul id="mysidebar" class="nav">
    <li class="sidebarTitle">Wavefront </li>
    
    
    
    <li>
        <a href="#">Overview</a>
        <ul>
            
            
            
            <li><a href="index.html">About Wavefront Documentation</a></li>
            
            
            
            
            
            
            <li><a href="wavefront_introduction.html">Introduction to Wavefront</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Getting Started</a>
        <ul>
            
            
            
            <li><a href="documentation_introductory.html">Introductory Documentation</a></li>
            
            
            
            
            
            
            <li><a href="dashboards_introductory.html">Introductory Dashboards</a></li>
            
            
            
            
            
            
            <li><a href="tags_overview.html">Tags Overview</a></li>
            
            
            
            
            
            
            <li><a href="wavefront_api.html">Using the Wavefront API</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Release Notes</a>
        <ul>
            
            
            
            <li><a href="50_release_notes.html">5.0 Release Notes</a></li>
            
            
            
            
            
            
            <li><a href="wavefront_obsolescence_policy.html">Wavefront Obsolescence Policy</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Wavefront Data</a>
        <ul>
            
            
            
            <li><a href="wavefront_data_ingestion.html">Getting Data into Wavefront</a></li>
            
            
            
            
            
            
            <li><a href="wavefront_data_format.html">Wavefront Data Format</a></li>
            
            
            
            
            
            
            <li><a href="wavefront_data_naming.html">Wavefront Data Naming Best Practices</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Proxies</a>
        <ul>
            
            
            
            <li><a href="proxies_installing.html">Installing Wavefront Proxies</a></li>
            
            
            
            
            
            
            <li><a href="proxies_installing_ansible.html">Installing Wavefront Proxies with Ansible</a></li>
            
            
            
            
            
            
            <li><a href="proxies_running_docker.html">Running a Proxy in a Docker Container</a></li>
            
            
            
            
            
            
            <li><a href="proxies_managing.html">Managing Wavefront Proxies</a></li>
            
            
            
            
            
            
            <li><a href="wavefront_cli.html">Wavefront CLI</a></li>
            
            
            
            
            
            
            <li><a href="proxies_configuring.html">Configuring Wavefront Proxies</a></li>
            
            
            
            
            
            
            <li><a href="proxies_preprocessor_rules.html">Configuring Wavefront Proxy Preprocessor Rules</a></li>
            
            
            
            
            
            
            <li><a href="proxies_version_history.html">Wavefront Proxy Version History</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Query Language</a>
        <ul>
            
            
            
            <li><a href="query_language_getting_started.html">Getting Started with Wavefront Query Language</a></li>
            
            
            
            
            
            
            <li><a href="query_language_query_builder.html">Query Builder</a></li>
            
            
            
            
            
            
            <li><a href="query_language_query_wizard.html">Query Wizard</a></li>
            
            
            
            
            
            
            <li><a href="query_language_reference.html">Wavefront Query Language Reference</a></li>
            
            
            
            
            
            
            <li><a href="query_language_using_point_tags.html">Using Point Tags in Queries</a></li>
            
            
            
            
            
            
            <li><a href="query_language_series_matching.html">Series Matching</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Dashboards and Charts</a>
        <ul>
            
            
            
            <li><a href="dashboards.html">Wavefront Dashboards</a></li>
            
            
            
            
            
            
            <li><a href="charts.html">Wavefront Charts</a></li>
            
            
            
            
            
            
            <li><a href="dashboards_searching.html">Searching Dashboards</a></li>
            
            
            
            
            
            
            <li><a href="dashboards_interacting.html">Interacting with Dashboards and Charts</a></li>
            
            
            
            
            
            
            <li><a href="charts_creating.html">Creating a Chart</a></li>
            
            
            
            
            
            
            <li><a href="charts_units.html">Units in Chart Axes and Legends</a></li>
            
            
            
            
            
            
            <li><a href="dashboards_managing.html">Managing Dashboards</a></li>
            
            
            
            
            
            
            <li><a href="dashboards_variables.html">Dashboard Variables</a></li>
            
            
            
            
            
            
            <li><a href="metrics_managing.html">Managing Metrics</a></li>
            
            
            
            
            
            
            <li><a href="sources_managing.html">Managing Sources</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Alerts</a>
        <ul>
            
            
            
            <li><a href="alerts_creating.html">Creating an Alert</a></li>
            
            
            
            
            
            
            <li><a href="alerts_managing.html">Managing Alerts</a></li>
            
            
            
            
            
            
            <li><a href="alerts_states_lifecycle.html">Alert States and Lifecycle</a></li>
            
            
            
            
            
            
            <li><a href="maintenance_windows_managing.html">Managing Maintenance Windows</a></li>
            
            
            
            
            
            
            <li><a href="alerts_integrating_hipchat.html">Integrating HipChat with Alerts</a></li>
            
            
            
            
            
            
            <li><a href="alerts_integrating_pagerduty.html">Integrating PagerDuty with Alerts</a></li>
            
            
            
            
            
            
            <li><a href="alerts_integrating_slack.html">Integrating Slack with Alerts</a></li>
            
            
            
            
            
            
            <li><a href="alerts_integrating_victorops.html">Integrating VictorOps with Alerts</a></li>
            
            
            
            
            
            
            <li><a href="alerts_integrating_webhooks.html">Integrating Webhooks with Alerts</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Events</a>
        <ul>
            
            
            
            <li><a href="events_managing.html">Managing Events</a></li>
            
            
            
            
            
            
            <li><a href="charts_events_displaying.html">Displaying Events in Charts</a></li>
            
            
            
            
            
            
            <li><a href="events_queries.html">Basic events() Queries</a></li>
            
            
            
            
            
            
            <li><a href="events_queries_advanced.html">Advanced events() Queries</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Integrations</a>
        <ul>
            
            
            
            <li><a href="integrations_wavefront.html">Wavefront Integrations</a></li>
            
            
            
            <li class="subfolders">
                <a href="#">Data Integrations</a>
                <ul>
                    
                    
                    
                    <li><a href="integrations_graphite.html">Graphite Integration</a></li>
                    
                    
                    
                    
                    
                    <li><a href="integrations_jmxtrans.html">JMXTrans Integration</a></li>
                    
                    
                    
                    
                    
                    <li><a href="integrations_opentsdb.html">OpenTSDB Integration</a></li>
                    
                    
                    
                    
                    
                    <li><a href="integrations_statsd.html">StatsD Integration</a></li>
                    
                    
                    
                    
                    
                    <li><a href="integrations_telegraf.html">Telegraf Integration</a></li>
                    
                    
                    
                    
                    
                    <li><a href="integrations_puppet_server.html">Puppet Server Integration</a></li>
                    
                    
                    
                </ul>
            </li>
            
            
            
            <li class="subfolders">
                <a href="#">Container Integrations</a>
                <ul>
                    
                    
                    
                    <li><a href="integrations_cadvisor.html">Docker Integration</a></li>
                    
                    
                    
                    
                    
                    <li><a href="integrations_kubernetes.html">Kubernetes Integration</a></li>
                    
                    
                    
                </ul>
            </li>
            
            
            
            <li class="subfolders">
                <a href="#">Code Instrumentation</a>
                <ul>
                    
                    
                    
                    <li><a href="integrations_go_metrics.html">Go Metrics Integration</a></li>
                    
                    
                    
                    
                    
                    <li><a href="integrations_dropwizard_metrics.html">Dropwizard Metrics Integration</a></li>
                    
                    
                    
                </ul>
            </li>
            
            
            
            <li class="subfolders">
                <a href="#">AWS Integrations</a>
                <ul>
                    
                    
                    
                    <li class="active"><a href="integrations_aws_metrics.html">AWS Metrics Integration</a></li>
                    
                    
                    
                    
                    
                    <li><a href="integrations_aws_ecs.html">AWS ECS Integration</a></li>
                    
                    
                    
                </ul>
            </li>
            
            
            
            <li class="subfolders">
                <a href="#">Authentication Integrations</a>
                <ul>
                    
                    
                    
                    <li><a href="integrations_sso_adfs.html">ADFS SSO Integration</a></li>
                    
                    
                    
                    
                    
                    <li><a href="integrations_sso_google.html">Google SSO Integration</a></li>
                    
                    
                    
                    
                    
                    <li><a href="integrations_sso_okta.html">Okta SSO Integration</a></li>
                    
                    
                    
                    
                    
                    <li><a href="integrations_sso_onelogin.html">OneLogin SSO Integration</a></li>
                    
                    
                    
                </ul>
            </li>
            
            
            
            
            
            
            <li><a href="external_links_managing.html">Managing External Links</a></li>
            
            
            
            
            
            
            <li><a href="integrations_log_data.html">Sending Log Data Metrics To Wavefront</a></li>
            
            
            
            
            
            
            <li><a href="rendering_test.html">Title</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Administration</a>
        <ul>
            
            
            
            <li><a href="permissions.html">Permissions Overview</a></li>
            
            
            
            
            
            
            <li><a href="users_managing.html">Managing Users</a></li>
            
            
            
            
            
            
            <li><a href="users_prefs_configuring.html">Configuring User Preferences</a></li>
            
            
            
            
            
            
            <li><a href="wavefront_monitoring.html">Wavefront Monitoring</a></li>
            
            
            
            
        </ul>
        
        
    
    <li>
        <a href="#">Labels</a>
        <ul>
            
            
            
            <li><a href="label_overview.html">Label Overview</a></li>
            
            
            
            <li class="subfolders">
                <a href="#">Label Pages</a>
                <ul>
                    
                    
                    
                    <li><a href="label_getting_started.html">Getting Started Pages</a></li>
                    
                    
                    
                    
                    
                    <li><a href="label_administration.html">Administration Pages</a></li>
                    
                    
                    
                    
                    
                    <li><a href="label_alerts.html">Alert Pages</a></li>
                    
                    
                    
                    
                    
                    <li><a href="label_api.html">API Pages</a></li>
                    
                    
                    
                    
                    
                    <li><a href="label_charts.html">Chart Pages</a></li>
                    
                    
                    
                    
                    
                    <li><a href="label_dashboards.html">Dashboard Pages</a></li>
                    
                    
                    
                    
                    
                    <li><a href="label_data.html">Data Pages</a></li>
                    
                    
                    
                    
                    
                    <li><a href="label_events.html">Event Pages</a></li>
                    
                    
                    
                    
                    
                    <li><a href="label_integrations.html">Integration Pages</a></li>
                    
                    
                    
                    
                    
                    <li><a href="label_proxies.html">Proxy Pages</a></li>
                    
                    
                    
                    
                    
                    <li><a href="label_query_language.html">Query Language Pages</a></li>
                    
                    
                    
                    
                    
                    <li><a href="label_release_notes.html">Release Notes Pages</a></li>
                    
                    
                    
                </ul>
            </li>
            
            
            
            
        </ul>
        
        
        
        <!-- if you aren't using the accordion, uncomment this block:
           <p class="external">
               <a href="#" id="collapseAll">Collapse All</a> | <a href="#" id="expandAll">Expand All</a>
           </p>
           -->
    </li>
</ul>
</div>

<!-- this highlights the active parent class in the navgoco sidebar. this is critical so that the parent expands when you're viewing a page. This must appear below the sidebar code above. Otherwise, if placed inside customscripts.js, the script runs before the sidebar code runs and the class never gets inserted.-->
<script>$("li.active").parents('li').toggleClass("active");</script>

    <!-- Content Column -->
    <div class="col-md-9">
        <div class="post-header">
   <h1 class="post-title-main">AWS Metrics Integration</h1>
</div>



<div class="post-content">

   
    <div class="summary">Learn how to send AWS data to Wavefront.</div>
   

    
    
<!-- this handles the automatic toc. use ## for subheads to auto-generate the on-page minitoc. if you use html tags, you must supply an ID for the heading element in order for it to appear in the minitoc. -->
<script>
$( document ).ready(function() {
  // Handler for .ready() called.

$('#toc').toc({ minimumHeaders: 0, listType: 'ul', showSpeed: 0, headers: 'h2,h3,h4' });

/* this offset helps account for the space taken up by the floating toolbar. */
$('#toc').on('click', 'a', function() {
  var target = $(this.getAttribute('href'))
    , scroll_target = target.offset().top

  $(window).scrollTop(scroll_target - 10);
  return false
})
  
});
</script>

<div id="toc"></div>

    


    
<!--
    <a target="_blank" href="https://github.com/WavefrontHQ/docs/gh-pagespages//integrations_aws_metrics.md" class="btn btn-default githubEditButton" role="button"><i class="fa fa-github fa-lg"></i> Edit me</a>
-->
    

  <p>Amazon Web Services (AWS), is a collection of cloud-computing services that provide an on-demand computing platform. Wavefront supports cloud integrations, which allow you to ingest metrics directly from AWS and send them to Wavefront without needing to set up a Wavefront proxy.</p>

<p>You must have <a href="permissions">Proxy Management permission</a> to set up an AWS cloud integration. If you do not have permission, UI menu selections and buttons required to perform the tasks will not be visible.</p>

<p>Wavefront offers <a href="http://aws.amazon.com">Amazon Web Services</a> (AWS) <a href="http://aws.amazon.com/cloudwatch">CloudWatch</a>, <a href="http://aws.amazon.com/cloudtrail">CloudTrail</a>, and EC2 integrations.</p>

<ul>
  <li>The CloudWatch integration retrieves AWS <a href="http://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CW_Support_For_AWS.html">metric and
dimension</a> data.</li>
  <li>The CloudTrail integration retrieves EC2 event information and creates Wavefront <strong>System</strong> events that represent the AWS events.</li>
  <li>The EC2 integration retrieves additional metrics using AWS APIs other than CloudWatch.</li>
</ul>

<h2 id="granting-wavefront-read-only-access-to-your-amazon-account">Granting Wavefront Read-only Access to your Amazon Account</h2>

<p>Adding a cloud integration requires establishing a trust relationship between Amazon and Wavefront by sharing account IDs and an external ID. The external ID can be generated by Wavefront or by your company. If you use an ID generated by Wavefront you run <strong>Set up Amazon Account</strong> to configure all integrations—CloudWatch, Cloudtrail, and EC2—at once. If you want to use an ID generated by your company, you set up each integration individually.</p>

<p>In summary, the integration options are:</p>

<ul>
  <li><strong>Set up Amazon Account</strong> - Integrate CloudWatch, Cloudtrail, and EC2 data. Choose this option if:
    <ul>
      <li>You are an administrator for your company’s AWS account.</li>
      <li>You want to integrate CloudWatch, CloudTrail, and EC2 data into Wavefront at the same time.</li>
      <li>You can use an external ID generated by Wavefront.</li>
      <li>You want Wavefront to automatically install AWS dashboards.</li>
    </ul>
  </li>
  <li><strong>Register [CloudWatch | CloudTrail | EC2]</strong> - Integrate each type of data individually. Choose this option if:
    <ul>
      <li>You are not an administrator for your company’s AWS account, but will be gathering required information from an administrator.</li>
      <li>You want to integrate CloudWatch, CloudTrail, and EC2 data into Wavefront, but not at the same time.</li>
      <li>You want to use a custom external ID generated by your company.</li>
      <li>You can manually install AWS dashboards.  For a list of dashboards and more information, contact <a href="mailto:support@wavefront.com">support@wavefront.com</a>.</li>
    </ul>
  </li>
</ul>

<p>First grant Wavefront read-only access to your Amazon account. Run the Amazon Create New Role wizard where you provide Wavefront account and external IDs. In the Create New Role wizard Review, copy the Role ARN containing the Amazon account ID.</p>

<p><img src="images/role_arn.png" alt="Role ARN" /></p>

<h2 id="adding-a-cloud-integration">Adding a Cloud Integration</h2>

<ol>
  <li>Select <strong>Browse &gt;</strong> <strong>Cloud Integrations</strong>.</li>
  <li>Select <strong>Add Integration &gt; &lt;Integration Option&gt;</strong>, where  <strong>&lt;Integration Option&gt;</strong> is <strong>Set up Amazon Account</strong> or <strong>Register [CloudWatch | CloudTrail | EC2]</strong>.</li>
  <li>Configure the integration:
    <ul>
      <li><strong>Common</strong>
        <ul>
          <li><strong>Name</strong> - Name to identify the integration.</li>
          <li><strong>Role ARN</strong> - Role ARN from Amazon account. The format of this property is <strong>arn:aws:iam::&lt;Amazon account ID&gt;:role/wavefront</strong>.</li>
        </ul>
      </li>
      <li><strong>Set Up Amazon Account and Register Cloudtrail</strong>
        <ul>
          <li><strong>Bucket Name -</strong> The S3 bucket containing CloudTrail logs. In AWS, go to <strong>CloudTrail</strong> &gt;<strong>Trails</strong> to see the bucket name.</li>
          <li><strong>Prefix</strong> - A log file prefix specified when you created the CloudTrail.</li>
        </ul>
      </li>
      <li><strong>Register [CloudWatch | CloudTrail | EC2]</strong>
        <ul>
          <li><strong>External ID -</strong> External ID generated by your company used to establish trust between Amazon and Wavefront.</li>
        </ul>
      </li>
      <li><strong>Register CloudWatch</strong>
        <ul>
          <li>Whitelists - see <a href="#whitelist">Configuring AWS CloudWatch Metric Ingestion</a>.</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Click <strong>Save</strong>. The selected integration(s) are created and added to the Cloud Integrations list.</li>
  <li>Optional. If you selected <strong>Set up Amazon Account</strong> and want to whitelist AWS instances, volumes, or metrics, click the link in the Name column in the CloudWatch integration type row.</li>
  <li>Configure CloudWatch whitelist properties.</li>
  <li>Click <strong>Save.</strong></li>
</ol>

<h2 id="cloudwatch-integration">CloudWatch Integration</h2>

<p>The Wavefront CloudWatch integration retrieves AWS metric and dimension data from AWS services using the AWS CloudWatch API. The complete list of metrics and dimensions that can be retrieved from AWS CloudWatch is available at <a href="http://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/CW_Support_For_AWS.html">Amazon CloudWatch Metrics and Dimensions Reference</a>. In addition, you can publish <a href="http://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/publishingMetrics.html">custom AWS metrics</a> that are also ingested by the Wavefront CloudWatch integration.</p>

<p><a name="whitelist"></a></p>

<h3 id="configuring-cloudwatch-metric-ingestion">Configuring CloudWatch Metric Ingestion</h3>

<p>To configure which AWS metrics to ingest into Wavefront you can whitelist instances, volumes, and metrics:</p>

<ul>
  <li><strong>Instance and Volume Whitelist</strong> fields - Whitelist instances and volumes by specifying <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html">EC2 tags</a> (as <strong>&lt;key&gt;=&lt;value&gt;</strong> pairs) defined on the instances and volumes. For example, <strong>organization=&lt;yourcompany&gt;</strong>. When specified as a comma-separated list, the tags are OR’d. To use instance and volume whitelisting you must also add an EC2 integration as the AWS tags are imported from EC2. If you don’t specify any tags, Wavefront imports metrics from <em>all</em> instances and volumes.</li>
  <li><strong>RegExp Whitelist</strong> field - Whitelist metrics by specifying a regular expression. The regular expression must be a complete match of the entire metric name. For example, if you only want CloudWatch data for <strong>elb</strong> and <strong>rds</strong> (which come under <strong>aws.rds</strong>), then use a regular expression such as: <strong>^aws.(elb|rds).*$</strong>. If you do not specify a regular expression, <em>all</em> CloudWatch metrics are retrieved.</li>
</ul>

<p><a name="aws_sources"></a></p>

<h3 id="wavefront-source-field">Wavefront Source Field</h3>

<p>Wavefront sets the value of the CloudWatch metric <a href="wavefront_data_format">source field</a> by service:</p>

<ul>
  <li><strong>EC2</strong> - the value of the <strong>hostname</strong>, <strong>host</strong>, or <strong>name</strong> <a href="http://docs.aws.amazon.com/AWSEC2/latest/UserGuide/Using_Tags.html">EC2 tags</a>, if the tags exist and you have an EC2 integration. Otherwise, the source is set to the Amazon instance ID.</li>
  <li><strong>EBS</strong> - the Amazon instance ID of the EC2 instance the volume is attached to.</li>
  <li>All other services - the value of the <em>first</em> CloudWatch dimension. The supported dimensions appear at the bottom of the Amazon service metric documentation topic. For example, see <a href="http://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/ec2-metricscollected.html#ec2-metric-dimensions">Amazon EC2 Dimensions</a>.</li>
</ul>

<h3 id="wavefront-point-tags">Wavefront Point Tags</h3>

<p>Wavefront adds the following point tags to CloudWatch metrics:</p>

<ul>
  <li><strong>accountId</strong> - the Amazon account that reported the metric.</li>
  <li><strong>Region</strong> - The region in which the service is running. Added to EC2 and EBS metrics only.</li>
  <li>CloudWatch dimensions. The dimensions vary by service. For example, for AWS S3, the BucketName dimension is added as a point tag.</li>
</ul>

<h3 id="cloudwatch-pricing">CloudWatch Pricing</h3>

<p>Standard AWS CloudWatch pricing applies each time Wavefront requests metrics using the CloudWatch API. For pricing information, see <a href="http://aws.amazon.com/cloudwatch/pricing">AWS | Amazon CloudWatch | Pricing</a>. After selecting a region in the middle of the page, you can find the current expected price under <strong>Amazon CloudWatch API Requests</strong>. In addition, custom metrics have a premium price; see the <strong>Amazon CloudWatch Custom Metrics</strong> section of the pricing page. To limit cost, Wavefront queries the API only every 5 minutes.</p>

<p>As an alternative to using the CloudWatch API for EC2 metrics, you can collect these metrics using <a href="integrations_telegraf">a Telegraf collector</a> on each AWS instance. In this case, to prevent CloudWatch from requesting those metrics, you should use the metrics RegExp whitelist to allow all metrics except EC2. For example: <strong>^aws.(billing|instance|sqs|sns|reservedInstance|ebs|route53.health|ec2.status|elb|s3).*$</strong>.</p>

<h3 id="configuring-billing-metrics">Configuring Billing Metrics</h3>

<p>The AWS Billing and Cost Management service sends <a href="http://docs.aws.amazon.com/AmazonCloudWatch/latest/monitoring/billing-metricscollected.html">billing metrics</a> to CloudWatch. You configure AWS to produce <strong>aws.billing.*</strong> metrics by checking the <strong>Receive Billing Alerts</strong> checkbox on the <strong>Preferences</strong> tab in the <a href="http://docs.aws.amazon.com/awsaccountbilling/latest/aboutv2/monitor-charges.html">AWS Billing and Cost Management console</a>:</p>

<p><img src="images/aws_billing.png" alt="aws billing" /></p>

<p>In addition to CloudWatch dimensions, Wavefront adds a <strong>Source</strong> point tag to billing metrics.</p>

<h2 id="cloudtrail-integration">CloudTrail Integration</h2>

<p>The Wavefront CloudTrail integration retrieves EC2 event information stored in JSON-formatted log files in an S3 bucket. The CloudTrail integration parses the files for all events that result from an operation that is not a describe, get, or list, and creates a Wavefront System event.</p>

<p>You can search for these events in the <strong>Browse &gt; Events</strong> page. Such events are prefaced with <strong>AWS Action:</strong> and include actions such as RunInstances, StartInstances, StopInstances, TerminateInstances, MonitorInstances, UnmonitorInstances, DeleteNetworkInterface, AuthorizeSecurityGroupIngress, CreateSecurityGroup, RequestSpotInstances, CancelSpotInstanceRequests, ModifyInstanceAttribute, CreateTags,CreateKeyPair, DeleteKeyPair, and DeregisterImage. For example:</p>

<p><img src="images/aws_runinstances.png" alt="aws instances" /></p>

<p>Click the <strong>View System Event</strong> link to view details about the event.</p>

<h2 id="ec2-integration">EC2 Integration</h2>

<p>The Wavefront EC2 integration retrieves additional metrics using AWS API calls other than CloudWatch:</p>

<ul>
  <li><strong>aws.instance.price</strong> - Instances and how much they cost per hour. This metric includes the point tags <strong>instanceID</strong>, <strong>instanceType</strong>, <strong>availabilityZone</strong>, and <strong>instanceLifecycle</strong>.</li>
  <li><strong>aws.reservedinstance.count</strong> - The number of reserved instances in each availability zone by each instance type. This metric includes the point tags <strong>instanceID</strong>, <strong>availabilityZone</strong>, and <strong>instanceType</strong>. This metric appears only if your account has reserved instances.</li>
  <li><strong>aws.ebs.volumesize</strong> - The volume size of the elastic block store attached to EC2 instance(s). This metric also includes the point tags <strong>Region</strong>, <strong>volumeID</strong>, <strong>instanceID</strong>, and <strong>Status</strong>. This metric appears in Wavefront only if your account uses EBS.</li>
  <li><strong>aws.ebs.volumeiops</strong> - The volume I/O operations of the elastic block store attached to EC2 instance(s). This metric also includes the point tags <strong>Region</strong>, <strong>volumeID</strong>, <strong>instanceID</strong>, and <strong>Status</strong>. This metric appears in Wavefront only if your account uses EBS.</li>
</ul>

<p>Wavefront sets the value of the EC2 metric <strong>source</strong> field to the AWS instance ID.</p>

<h2 id="viewing-aws-metrics">Viewing AWS Metrics</h2>

<p>You can view AWS metrics by selecting <strong>Browse &gt; Metrics</strong> and searching for metrics beginning with <strong>aws.</strong>:</p>

<p><img src="images/aws_metrics.png" alt="aws metrics" /></p>

<p>You can drill into the folder for a specific service and click a metric to navigate to a chart that displays that set of data. For example, clicking clicking the folder <strong>aws.ec2.</strong>, then the metric <strong>aws.ec2.cpuutilization</strong>, and then refining the query by the <strong>Region</strong> point tag and the <strong>topk</strong> function yields the following chart:</p>

<p><img src="images/aws_cpu_utilization.png" alt="aws cpu utilization" /></p>

<h3 id="aws-aggregate-metrics">AWS Aggregate Metrics</h3>

<p>All AWS metrics return the following aggregate metrics: average, maximum, minimum, sample count, and sum. To view the aggregate metrics,</p>

<ol>
  <li>
    <p>Search for a specific metric, for example <strong>aws.ec2.cpuutilization</strong>:</p>

    <p><img src="images/aws_cpu_utilization_metric.png" alt="aws cpu utilization folder" /></p>
  </li>
  <li>
    <p>Click the metric folder, for example <strong>aws.ec2.cpuutilization.,</strong> to display the aggregate metrics:</p>

    <p><img src="images/aws_cpu_utilization_aggregate_metrics.png" alt="aws cpu utilization aggregate metrics" /></p>
  </li>
</ol>



    <div class="tags">
        
        <b>Labels: </b>
        
        
        
        <a href="label_integrations.html" class="btn btn-default navbar-btn cursorNorm label-btn" role="button">integrations</a>
        
        
        
    </div>

    

</div>

<hr class="shaded"/>

<footer>
            <div class="row">
                <div class="col-lg-12 footer">
               &copy;2017 Wavefront. All rights reserved. <br />
 Site last generated: 2017-04-03 18:42:41 -0700 <br />
<p></p>
<p><img src="images/wavefront_logo.png" alt="Wavefront logo"/></p>
                </div>
            </div>
</footer>


    </div>
    <!-- /.row -->
</div>
<!-- /.container -->
    </div>

</body>

<!-- the google_analytics_id gets auto inserted from the config file -->



<script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create','UA-91867056-1','auto');ga('require','displayfeatures');ga('send','pageview');</script>



</html>